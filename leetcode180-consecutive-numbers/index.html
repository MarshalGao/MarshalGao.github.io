<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Marshal ">
<meta name="description" content="Question Table: Logs
&#43;-------------&#43;---------&#43; | Column Name | Type | &#43;-------------&#43;---------&#43; | id | int | | num | varchar | &#43;-------------&#43;---------&#43; id is the primary key for this table.  Write an SQL query to find all numbers that appear at least three times consecutively.
Return the result table in any order.
The query result format is in the following example:
Logs table: &#43;----&#43;-----&#43; | Id | Num | &#43;----&#43;-----&#43; | 1 | 1 | | 2 | 1 | | 3 | 1 | | 4 | 2 | | 5 | 1 | | 6 | 2 | | 7 | 2 | &#43;----&#43;-----&#43; Result table: &#43;-----------------&#43; | ConsecutiveNums | &#43;-----------------&#43; | 1 | &#43;-----------------&#43; 1 is the only number that appears consecutively for at least three times." />
<meta name="keywords" content=", leetcode, #180, sql, advertising product manager, consecutive numbers" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="#252627" />
<link rel="canonical" href="https://www.marshalgao.com/leetcode180-consecutive-numbers/" />


    <title>
        
            LeetCode[180] Consecutive Numbers :: This Is Marshal 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://www.marshalgao.com/main.bdf16375e88c9de5121e200285a015c4d181bcc9641cf97e05c5e46866f50161.css">




    <link rel="apple-touch-icon" sizes="180x180" href="https://www.marshalgao.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.marshalgao.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.marshalgao.com/favicon-16x16.png">
    <link rel="manifest" href="https://www.marshalgao.com/site.webmanifest">
    <link rel="mask-icon" href="https://www.marshalgao.com/safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="https://www.marshalgao.com/favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">



<meta itemprop="name" content="LeetCode[180] Consecutive Numbers">
<meta itemprop="description" content="Question Table: Logs
&#43;-------------&#43;---------&#43; | Column Name | Type | &#43;-------------&#43;---------&#43; | id | int | | num | varchar | &#43;-------------&#43;---------&#43; id is the primary key for this table.  Write an SQL query to find all numbers that appear at least three times consecutively.
Return the result table in any order.
The query result format is in the following example:
Logs table: &#43;----&#43;-----&#43; | Id | Num | &#43;----&#43;-----&#43; | 1 | 1 | | 2 | 1 | | 3 | 1 | | 4 | 2 | | 5 | 1 | | 6 | 2 | | 7 | 2 | &#43;----&#43;-----&#43; Result table: &#43;-----------------&#43; | ConsecutiveNums | &#43;-----------------&#43; | 1 | &#43;-----------------&#43; 1 is the only number that appears consecutively for at least three times.">
<meta itemprop="datePublished" content="2021-01-11T11:20:40+08:00" />
<meta itemprop="dateModified" content="2021-01-11T11:20:40+08:00" />
<meta itemprop="wordCount" content="344">
<meta itemprop="image" content="https://www.marshalgao.com/"/>



<meta itemprop="keywords" content="leetcode,#180,sql,advertising product manager,consecutive numbers," />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.marshalgao.com/"/>

<meta name="twitter:title" content="LeetCode[180] Consecutive Numbers"/>
<meta name="twitter:description" content="Question Table: Logs
&#43;-------------&#43;---------&#43; | Column Name | Type | &#43;-------------&#43;---------&#43; | id | int | | num | varchar | &#43;-------------&#43;---------&#43; id is the primary key for this table.  Write an SQL query to find all numbers that appear at least three times consecutively.
Return the result table in any order.
The query result format is in the following example:
Logs table: &#43;----&#43;-----&#43; | Id | Num | &#43;----&#43;-----&#43; | 1 | 1 | | 2 | 1 | | 3 | 1 | | 4 | 2 | | 5 | 1 | | 6 | 2 | | 7 | 2 | &#43;----&#43;-----&#43; Result table: &#43;-----------------&#43; | ConsecutiveNums | &#43;-----------------&#43; | 1 | &#43;-----------------&#43; 1 is the only number that appears consecutively for at least three times."/>



    <meta property="og:title" content="LeetCode[180] Consecutive Numbers" />
<meta property="og:description" content="Question Table: Logs
&#43;-------------&#43;---------&#43; | Column Name | Type | &#43;-------------&#43;---------&#43; | id | int | | num | varchar | &#43;-------------&#43;---------&#43; id is the primary key for this table.  Write an SQL query to find all numbers that appear at least three times consecutively.
Return the result table in any order.
The query result format is in the following example:
Logs table: &#43;----&#43;-----&#43; | Id | Num | &#43;----&#43;-----&#43; | 1 | 1 | | 2 | 1 | | 3 | 1 | | 4 | 2 | | 5 | 1 | | 6 | 2 | | 7 | 2 | &#43;----&#43;-----&#43; Result table: &#43;-----------------&#43; | ConsecutiveNums | &#43;-----------------&#43; | 1 | &#43;-----------------&#43; 1 is the only number that appears consecutively for at least three times." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.marshalgao.com/leetcode180-consecutive-numbers/" />
<meta property="og:image" content="https://www.marshalgao.com/"/>
<meta property="article:published_time" content="2021-01-11T11:20:40+08:00" />
<meta property="article:modified_time" content="2021-01-11T11:20:40+08:00" />




    <meta property="article:section" content="Technology" />



    <meta property="article:published_time" content="2021-01-11 11:20:40 &#43;0800 HKT" />









    </head>

    <body class="">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://www.marshalgao.com/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://www.marshalgao.com/categories/hku">HKU</a></li><li><a href="https://www.marshalgao.com/categories/technology">TECH</a></li><li><a href="https://www.marshalgao.com/categories/product-manager">PM</a></li><li><a href="https://www.marshalgao.com/categories/life">LIFE</a></li><li><a href="https://www.marshalgao.com/about/">ABOUT</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>

            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://www.marshalgao.com/leetcode180-consecutive-numbers/">LeetCode[180] Consecutive Numbers</a>
      </h1>

      

      <div class="post-content">
        <h2 id="question">Question</h2>
<p>Table: Logs</p>
<pre><code>+-------------+---------+
| Column Name | Type    |
+-------------+---------+
| id          | int     |
| num         | varchar |
+-------------+---------+
id is the primary key for this table.
</code></pre>
<p>Write an SQL query to find all numbers that appear at least three times consecutively.</p>
<p>Return the result table in <strong>any order</strong>.</p>
<p>The query result format is in the following example:</p>
<pre><code>Logs table:
+----+-----+
| Id | Num |
+----+-----+
| 1  | 1   |
| 2  | 1   |
| 3  | 1   |
| 4  | 2   |
| 5  | 1   |
| 6  | 2   |
| 7  | 2   |
+----+-----+

Result table:   
+-----------------+
| ConsecutiveNums |
+-----------------+
| 1               |
+-----------------+
1 is the only number that appears consecutively for at least three times.
</code></pre>
<h2 id="sql-schema">SQL Schema</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">Create</span> <span style="color:#66d9ef">table</span> <span style="color:#66d9ef">If</span> <span style="color:#66d9ef">Not</span> <span style="color:#66d9ef">Exists</span> Logs (Id int, Num int)
<span style="color:#66d9ef">Truncate</span> <span style="color:#66d9ef">table</span> Logs
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> Logs (Id, Num) <span style="color:#66d9ef">values</span> (<span style="color:#e6db74">&#39;1&#39;</span>, <span style="color:#e6db74">&#39;1&#39;</span>)
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> Logs (Id, Num) <span style="color:#66d9ef">values</span> (<span style="color:#e6db74">&#39;2&#39;</span>, <span style="color:#e6db74">&#39;1&#39;</span>)
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> Logs (Id, Num) <span style="color:#66d9ef">values</span> (<span style="color:#e6db74">&#39;3&#39;</span>, <span style="color:#e6db74">&#39;1&#39;</span>)
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> Logs (Id, Num) <span style="color:#66d9ef">values</span> (<span style="color:#e6db74">&#39;4&#39;</span>, <span style="color:#e6db74">&#39;2&#39;</span>)
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> Logs (Id, Num) <span style="color:#66d9ef">values</span> (<span style="color:#e6db74">&#39;5&#39;</span>, <span style="color:#e6db74">&#39;1&#39;</span>)
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> Logs (Id, Num) <span style="color:#66d9ef">values</span> (<span style="color:#e6db74">&#39;6&#39;</span>, <span style="color:#e6db74">&#39;2&#39;</span>)
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> Logs (Id, Num) <span style="color:#66d9ef">values</span> (<span style="color:#e6db74">&#39;7&#39;</span>, <span style="color:#e6db74">&#39;2&#39;</span>)
</code></pre></div><h2 id="my-interesting-code">My Interesting Code</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">select</span> <span style="color:#66d9ef">distinct</span> Num <span style="color:#66d9ef">as</span> ConsecutiveNums
<span style="color:#66d9ef">from</span> (
    <span style="color:#66d9ef">select</span> lag(Num) over() <span style="color:#66d9ef">as</span> preNum,
        Num,
        lead(Num) over() <span style="color:#66d9ef">as</span> nextNum
    <span style="color:#66d9ef">from</span> Logs
) temp
<span style="color:#66d9ef">where</span> preNum <span style="color:#f92672">=</span> Num <span style="color:#66d9ef">and</span> Num <span style="color:#f92672">=</span> nextNum
</code></pre></div><h2 id="my-perspective">My Perspective</h2>
<p>For this question, if you want to find a number that appears consecutively for at least three times, you can find each number&rsquo;s previous number and next number, using &ldquo;lag over&rdquo; and &ldquo;lead over&rdquo;. Then put them into one line.</p>
<p>According to the requirement, if the new table - &ldquo;temp&rdquo; - has at least one line that all elements are equal, it can address the problem. More importantly, you may have the same result, and do not forget to use &ldquo;distinct&rdquo; to address the problem.</p>
<p>Also, there are three useful links, and I think they can help you. (chinese version)</p>
<ul>
<li><a href="https://www.jb51.net/article/152155.htm">useful link 1</a></li>
<li><a href="https://www.cnblogs.com/beautifuldata/p/3204294.html">useful link 2</a></li>
<li><a href="https://blog.csdn.net/sinat_26811377/article/details/107188400">useful link 3</a></li>
</ul>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://www.marshalgao.com/tags/leetcode/">leetcode</a></span>
        <span class="tag"><a href="https://www.marshalgao.com/tags/#180/">#180</a></span>
        <span class="tag"><a href="https://www.marshalgao.com/tags/sql/">sql</a></span>
        <span class="tag"><a href="https://www.marshalgao.com/tags/advertising-product-manager/">advertising product manager</a></span>
        <span class="tag"><a href="https://www.marshalgao.com/tags/consecutive-numbers/">consecutive numbers</a></span>
        
    </p>

      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://www.marshalgao.com/categories/technology/">Technology</a></span>
        
    </p>


      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        344 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2021-01-11 11:20
        

         
          
        
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h"></span>
          <hr />
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="https://www.marshalgao.com/leetcode181-employees-earning-more-than-their-managers/">
                <span class="button__icon">←</span>
                <span class="button__text">LeetCode[181] Employees Earning More Than Their Managers</span>
              </a>
            </span>
          

          
            <span class="button next">
              <a href="https://www.marshalgao.com/content-products/">
                <span class="button__text">Content Products</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2020-2021</span>
            
                <span><a href="https://www.marshalgao.com/">Marshal</a></span>
            
            
                <span><a href="https://www.hku.hk" target="_blank" rel="noopener">The University of Hong Kong</a></span>
            <span><a href="https://www.marshalgao.com/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Team Rocket: <a href="https://www.pseudoyu.com/" target="_blank" rel="noopener">Pseudoyu</a></span>
            <span><a href="https://www.m1sty.com/" target="_blank" rel="noopener">Misty</a></span>
          </div>
    </div>
</footer>


            
        </div>

        




<script type="text/javascript" src="https://www.marshalgao.com/bundle.min.dc716e9092c9820b77f96da294d0120aeeb189b5bcea9752309ebea27fd53bbe6b13cffb2aca8ecf32525647ceb7001f76091de4199ac5a3caa432c070247f5b.js" integrity="sha512-3HFukJLJggt3&#43;W2ilNASCu6xibW86pdSMJ6&#43;on/VO75rE8/7KsqOzzJSVkfOtwAfdgkd5BmaxaPKpDLAcCR/Ww=="></script>



    </body>
</html>
