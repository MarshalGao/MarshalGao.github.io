<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Marshal ">
<meta name="description" content="Transport-layer Services Transport Services and Protocols
 Provide logical communication (actually accomplished by network layer) between app processes on different hosts  logical communication means a pair of hosts is not connected physically, but it seems that they are connected by channel   Transport protocols run in end systems  send side: breaks app messages into segments (if needed), passes to network layer  using segment header, including port number, to communicate with the socket of receiver  receive side: reassembles segemnts into messages, uses segement header (or port number) to pass to application layer  More than one transport protocol available to apps  Majority: TCP and UDP  TCP: reliable, in-order delivery  congestion control flow control connection setup  UDP: unreliable, unordered delivery  no-frills extension of &amp;quot;best-effort&amp;quot; IP   Others: SCTP and DCCP  These protocols are very limited, so we just ignore them." />
<meta name="keywords" content=", icom6012, internet infrastructure technologies, transport layer" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="#252627" />
<link rel="canonical" href="https://www.marshalgao.com/icom6012-transport-layer/" />


    <title>
        
            ICOM6012 Transport Layer :: This is Marshal 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://www.marshalgao.com/main.1abfe30dec5ae0f5c4f84acd6413b12f63e4a6f9e1e7167f42de12192bfd25e9.css">




    <link rel="apple-touch-icon" sizes="180x180" href="https://www.marshalgao.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.marshalgao.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.marshalgao.com/favicon-16x16.png">
    <link rel="manifest" href="https://www.marshalgao.com/site.webmanifest">
    <link rel="mask-icon" href="https://www.marshalgao.com/safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="https://www.marshalgao.com/favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">



<meta itemprop="name" content="ICOM6012 Transport Layer">
<meta itemprop="description" content="Transport-layer Services Transport Services and Protocols
 Provide logical communication (actually accomplished by network layer) between app processes on different hosts  logical communication means a pair of hosts is not connected physically, but it seems that they are connected by channel   Transport protocols run in end systems  send side: breaks app messages into segments (if needed), passes to network layer  using segment header, including port number, to communicate with the socket of receiver  receive side: reassembles segemnts into messages, uses segement header (or port number) to pass to application layer  More than one transport protocol available to apps  Majority: TCP and UDP  TCP: reliable, in-order delivery  congestion control flow control connection setup  UDP: unreliable, unordered delivery  no-frills extension of &quot;best-effort&quot; IP   Others: SCTP and DCCP  These protocols are very limited, so we just ignore them.">
<meta itemprop="datePublished" content="2020-10-15T13:50:12+08:00" />
<meta itemprop="dateModified" content="2020-10-15T13:50:12+08:00" />
<meta itemprop="wordCount" content="1488">
<meta itemprop="image" content="https://www.marshalgao.com/"/>



<meta itemprop="keywords" content="icom6012,internet infrastructure technologies,transport layer," />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.marshalgao.com/"/>

<meta name="twitter:title" content="ICOM6012 Transport Layer"/>
<meta name="twitter:description" content="Transport-layer Services Transport Services and Protocols
 Provide logical communication (actually accomplished by network layer) between app processes on different hosts  logical communication means a pair of hosts is not connected physically, but it seems that they are connected by channel   Transport protocols run in end systems  send side: breaks app messages into segments (if needed), passes to network layer  using segment header, including port number, to communicate with the socket of receiver  receive side: reassembles segemnts into messages, uses segement header (or port number) to pass to application layer  More than one transport protocol available to apps  Majority: TCP and UDP  TCP: reliable, in-order delivery  congestion control flow control connection setup  UDP: unreliable, unordered delivery  no-frills extension of &quot;best-effort&quot; IP   Others: SCTP and DCCP  These protocols are very limited, so we just ignore them."/>



    <meta property="og:title" content="ICOM6012 Transport Layer" />
<meta property="og:description" content="Transport-layer Services Transport Services and Protocols
 Provide logical communication (actually accomplished by network layer) between app processes on different hosts  logical communication means a pair of hosts is not connected physically, but it seems that they are connected by channel   Transport protocols run in end systems  send side: breaks app messages into segments (if needed), passes to network layer  using segment header, including port number, to communicate with the socket of receiver  receive side: reassembles segemnts into messages, uses segement header (or port number) to pass to application layer  More than one transport protocol available to apps  Majority: TCP and UDP  TCP: reliable, in-order delivery  congestion control flow control connection setup  UDP: unreliable, unordered delivery  no-frills extension of &quot;best-effort&quot; IP   Others: SCTP and DCCP  These protocols are very limited, so we just ignore them." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.marshalgao.com/icom6012-transport-layer/" />
<meta property="og:image" content="https://www.marshalgao.com/"/>
<meta property="article:published_time" content="2020-10-15T13:50:12+08:00" />
<meta property="article:modified_time" content="2020-10-15T13:50:12+08:00" />




    <meta property="article:section" content="HKU" />



    <meta property="article:published_time" content="2020-10-15 13:50:12 &#43;0800 CST" />









    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css" integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js" integrity="sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

    </head>

    <body class="">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://www.marshalgao.com/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://www.marshalgao.com/categories/hku">HKU</a></li><li><a href="https://www.marshalgao.com/categories/technology">TECH</a></li><li><a href="https://www.marshalgao.com/categories/product-manager">PM</a></li><li><a href="https://www.marshalgao.com/categories/life">LIFE</a></li><li><a href="https://www.marshalgao.com/about/">ABOUT</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>

            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        7 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://www.marshalgao.com/icom6012-transport-layer/">ICOM6012 Transport Layer</a>
      </h1>

      

      <div class="post-content">
        <h2 id="transportlayer-services">Transport-layer Services</h2>

<p><strong>Transport Services and Protocols</strong></p>

<ul>
<li>Provide <strong><em>logical communication</em></strong> (actually accomplished by network layer) between app processes on different hosts

<ul>
<li><strong><em>logical communication</em></strong> means a pair of hosts is not connected physically, but it seems that they are connected by channel
<figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/IMG_0017.jpeg" alt="logical communication"></figure></li>
</ul></li>
<li>Transport protocols run in end systems

<ul>
<li><strong>send side</strong>: breaks app messages into <strong><em>segments</em></strong> (if needed), passes to network layer

<ul>
<li>using segment header, including port number, to communicate with the socket of receiver</li>
</ul></li>
<li><strong>receive side</strong>: reassembles segemnts into messages, uses segement header (or port number) to pass to application layer</li>
</ul></li>
<li>More than one transport protocol available to apps

<ul>
<li>Majority: <strong>TCP</strong> and <strong>UDP</strong>

<ul>
<li><strong>TCP</strong>: reliable, in-order delivery

<ul>
<li>congestion control</li>
<li>flow control</li>
<li>connection setup</li>
</ul></li>
<li><strong>UDP</strong>: unreliable, unordered delivery

<ul>
<li>no-frills extension of &quot;best-effort&quot; IP</li>
</ul></li>
</ul></li>
<li>Others: SCTP and DCCP

<ul>
<li>These protocols are very limited, so we just ignore them. Unless in specific environment, for example, SCTP would be used in wireless network (e.g. celluar network)</li>
</ul></li>
</ul></li>
<li>Services not available

<ul>
<li>delay guarantee</li>
<li>bandwidth guarantee</li>
<li>throughput guarantee</li>
<li><strong>Q: Why the Internet can not guarantee throughput and so on?</strong></li>
<li>A: Because the data link layer can not guarantee, the network layer can not guarantee. For example, we can use Zoom to meet, but the Internet can not guarantee the quality.</li>
</ul></li>
</ul>

<p><strong>Transport Layer Actions</strong></p>

<ul>
<li>Sender:

<ul>
<li>is passed an application-layer message</li>
<li>determines segment header fields values, including port number

<ul>
<li><strong>not change the pillow, just add a header with some important information</strong></li>
</ul></li>
<li>creates segment</li>
<li>passed segement to IP</li>
</ul></li>
<li>Receiver:

<ul>
<li>receives segment from IP, ensuring the packet has arrived at the correct destination</li>
<li>checks header values</li>
<li>extracts application-layer message</li>
<li>demultiplexes message up to application via socket</li>
</ul></li>
</ul>

<h2 id="multiplexing-and-demultiplexing">Multiplexing and Demultiplexing</h2>

<p><strong>Overview</strong></p>

<ul>
<li>Multiplexing and demultiplexing happen at all layers. For example,

<ul>
<li>application layer &amp; transport Layer -&gt; port number in the TCP and UDP header</li>
<li>transport layer &amp; network layer -&gt; protocol ID in the IP header</li>
<li>network layer &amp; data link layer -&gt; frame type in the Ethernet header, for example.
<br></li>
</ul></li>
</ul>

<p><figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/%E6%88%AA%E5%B1%8F2020-10-15%20%E4%B8%8B%E5%8D%884.54.22.png" alt=""></figure></p>

<p><strong>Demultiplexing</strong></p>

<ul>
<li>Host receives IP datagrams (network layer)

<ul>
<li>each datagram has source &amp; destination IP addresses</li>
<li>each datagram carries one transport-layer segment</li>
<li>each segment has source &amp; destination port number (for resending and replying purpose)</li>
</ul></li>
</ul>

<p><figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/IMG_0018.jpeg" alt=""></figure></p>

<ul>
<li><p>Host uses IP addresses &amp; port numbers to direct segment to appropriate socket</p></li>

<li><p>Connectionless Demux (UDP Using destination port number only)</p>

<ul>
<li>Create socket with unique local port number, which is assigned by OS (sender)</li>
<li>When creating datagram to send into UDP socket, must specify (sender)</li>
<li>destination IP address</li>
<li>destination port number</li>
<li>When host receives UDP segment (receiver)</li>
<li>checks destination port number in segment</li>
<li>directs UDP segment to socket with that port number</li>
<li>Others</li>
<li>IP datagrams with <strong>same destination &amp; port number</strong>, but different source IP addresses and/or source port numbers will be directed to <strong>same socket</strong> at destination

<ul>
<li><strong>Q: We call the UDP segment &quot;datagram&quot;, why?</strong></li>
<li>A: Becasue UDP does not improve or enhance the service of network layer.</li>
</ul></li>
<li>share the same socket, but UDP does not care</li>
<li>UDP socket is identified by two-tuple: (dest IP address, dest port number)</li>
</ul></li>
</ul>

<p><figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/%E6%88%AA%E5%B1%8F2020-10-18%20%E4%B8%8B%E5%8D%887.57.53.png" alt=""></figure></p>

<ul>
<li>Connection-oriented Demux (Using 4-tuple)

<ul>
<li>TCP socket identified by 4-tuple:</li>
<li>source IP address</li>
<li>source port number</li>
<li>dest IP address</li>
<li>dest port number</li>
<li>Server host may support many simultaneous TCP sockets</li>
<li>each socket is identified by its own 4-tuple</li>
<li>Receiver uses all four values to direct segment to appropriate socket</li>
<li>Web servers have different sockets for each connecting client</li>
<li>Non-persistent HTTP will have different sockets for each request</li>
<li>Others</li>
<li>UDP shares one socket, but TCP has additional sockets</li>
<li>TCP consumes extra resources, such as memory</li>
</ul></li>
</ul>

<p><figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/connection.png" alt=""></figure></p>

<h2 id="connectionless-transport-udp">Connectionless Transport: UDP</h2>

<ul>
<li>Features

<ul>
<li>&quot;no frills&quot;, &quot;bare bones&quot; Internet transport protocol (means get the packets from Internet but do nothing)</li>
<li>&quot;best effort&quot; service, UDP segment may be lost or delivered out-of-order to app</li>
<li>connectionless</li>
<li>no handshaking between UDP senders and receivers</li>
<li>each UDP segment handled independently of others</li>
</ul></li>
<li>The Reason of the Existence of UDP (Advantages)

<ul>
<li>no connection establishment</li>
<li>DNS choose this, due to no additional RTT delay</li>
<li>simple (no connection)</li>
<li>small header size</li>
<li>no congestion control</li>
<li>UDP can blast away as fast as desired</li>
<li>can function in the face of congestion</li>
</ul></li>
<li>Usage

<ul>
<li>streaming multimedia apps (loss tolerant, rate sensitive)</li>
<li>DNS</li>
<li>SNMP</li>
<li>HTTP/3</li>
<li>if used UDP

<ul>
<li>add needed reliability at application layer</li>
<li>add congestion control at application layer</li>
</ul></li>
</ul></li>
<li>Segment

<ul>
<li>length: in bytes of UDP segment, inlcuding header</li>
<li>UDP segment would keep the length of packet below 1500 bytes, in order to avoid being fragmented by router</li>
<li>checksum: for error detection (cannnot dectect all, but majority)</li>
<li>procedure

<ul>
<li>sender</li>
<li>treat segment contents, including header (8 bytes), as sequence of 16-bit integers</li>
<li>checksum: addition (one's complement sum) of segment contents</li>
<li>sender puts checksum value into UDP checksum field</li>
<li>receiver</li>
<li>compute checksum of received segment</li>
<li>check if computed checksum equals checksum field value:

<ul>
<li>no - error detected (two options)</li>
<li>transport layer drop it</li>
<li>transmit to application layer, it would decide the next action</li>
<li>yes - no error detected (but may still have errors)</li>
</ul></li>
</ul></li>
<li>others

<ul>
<li>some implementations allow UDP checksum calculation to be disabled in order to speed up the processing of incoming UDP datagrams
<figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/111.png" alt=""></figure></li>
</ul></li>
</ul></li>
</ul>

<h2 id="connectionoriented-transport-tcp">Connection-oriented Transport: TCP</h2>

<ul>
<li>Services

<ul>
<li>point-to-point</li>
<li>reliable, in-order byte stream (no message boundaries)

<ul>
<li>using ACK and sequence number to be reliable</li>
<li>ACK and sequence number are byte-stream numbers, not packet number</li>
<li>the sequence number of a segment is the byte-stream number of the first byte in the segment</li>
</ul></li>
<li>full duplex data

<ul>
<li>bi-directional data flow in same connection</li>
<li>MSS: maximum segment size (excluding header)

<ul>
<li>connection specific</li>
<li>two direcrions may have different MSSs</li>
<li>in contrast, UDP has packet size</li>
<li>depends on two issues

<ul>
<li>overhead management</li>
<li>IP fragmentation</li>
</ul></li>
<li>absolute limit: 65495 =<span  class="math">\(\ (2^{16}-1-40)\)</span>

<ul>
<li><span  class="math">\(\ 2^{16}-1\)</span> is IP datagram maximum size</li>
<li>IP header costs 20 bytes, and TCP header costs 20 bytes -&gt; 40 bytes</li>
<li>in practice, it is hard to reach this number</li>
</ul></li>
<li>typically, its value is 1460 bytes (just pillow)

<ul>
<li>TCP header is 20 bytes (min), IP datagram header is 20 bytes (min), Ethernet maximum frame size is 1500 bytes (but up to 8000 bytes in data centre)</li>
</ul></li>
</ul></li>
</ul></li>
<li>cumulative ACKs (in the header)

<ul>
<li>ACK: sequence number of next byte expected from other side</li>
<li>duplicated ACKs means packet loss (then restransmit fastly) or packets out of order</li>
<li>another method to detect packet loss (then restransmit fastly) is timer (using time-out)

<ul>
<li>TCP and UDP both use this
<figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/%E6%88%AA%E5%B1%8F2020-10-19%20%E4%B8%8B%E5%8D%885.32.08.png" alt=""></figure></li>
</ul></li>
</ul></li>
<li>pipelining (means keep talking)

<ul>
<li>unpipelining -&gt; transmit packets one by one, but it is reliable</li>
</ul></li>
<li>connection-oriented</li>
<li>flow control

<ul>
<li>sender will not overwhelm receive buffer</li>
</ul></li>
<li>congestion control

<ul>
<li>focus on router buffer</li>
<li>through window size (key factor)</li>
</ul></li>
<li>others

<ul>
<li>send buffer

<ul>
<li>decide when to send packets</li>
<li>resending purpose</li>
</ul></li>
<li>receive buffer

<ul>
<li>solve the problem of out-of-order packets</li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<p><figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/%E6%88%AA%E5%B1%8F2020-10-19%20%E4%B8%8A%E5%8D%8810.40.20.png" alt=""></figure></p>

<ul>
<li>Segment Structure

<ul>
<li>source &amp; dest ports -&gt; mutiplexing &amp; demultiplexing</li>
<li>header length (4 bits)

<ul>
<li><strong>Q: What is the max header size?</strong></li>
<li>A: The TCP header would combine 4 bytes as a union, although header length only has 4 bits (15), the max header size is 60 bytes. Because TCP also has &quot;option&quot; in the header, there are 20 bytes except for &quot;options&quot;.</li>
</ul></li>
<li>C, E (for newer protocols, explicit congestion control, we can just ignore them)</li>
<li>U (seldomly used)

<ul>
<li>if U equals 1, the pillow contains two types of data

<ul>
<li>urgent data

<ul>
<li>start from the first byte to the urgent data pointer</li>
</ul></li>
<li>original data</li>
</ul></li>
<li>the boundary of above two types of data is indicated by urgent data pointer</li>
</ul></li>
<li>P, means push quickly

<ul>
<li>the client would not transmit a packet to application layer when the transport layer receives the packet immediately</li>
<li>packets would be save in the buffer, until the value of P equals 1, packets would be transmitted to the application layer together (buffer would be empty at the same time)</li>
</ul></li>
<li>R, S, F

<ul>
<li>RST: if the client or server crashes, make R as 1 to reset everything</li>
<li>SYN: connection request</li>
<li>FIN: finish my connection (finsh connections on both sides)</li>
</ul></li>
</ul></li>
</ul>

<p><figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/%E6%88%AA%E5%B1%8F2020-10-19%20%E4%B8%8A%E5%8D%8811.27.01.png" alt=""></figure></p>

<ul>
<li>Reliable Data Transfer

<ul>
<li>window size

<ul>
<li>best N: determined by congestion control

<ul>
<li><strong>Q: How receiver handles out-of-order segments?</strong></li>
<li>A: TCP spec does not say, up to implementor.
<figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/%E6%88%AA%E5%B1%8F2020-10-19%20%E4%B8%8B%E5%8D%884.34.24.png" alt=""></figure></li>
</ul></li>
</ul></li>
<li>TCP round trip time, timeout

<ul>
<li>timer would be put in the oldest packet</li>
<li>timeout value

<ul>
<li>longer than RTT, but RTT varies</li>
<li>too short: premature timeout, unnecessary retransmissions</li>
<li>too long: slow reaction to segment loss</li>
</ul></li>
<li>estimate RTT

<ul>
<li>SampleRTT: measured time from segment transmission until ACK receipt

<ul>
<li>ignore retransmissions</li>
<li>SampleRTT will vary, want estimated RTT &quot;smoother&quot;

<ul>
<li>average several recent measurements, not just current SampleRTT</li>
</ul></li>
</ul></li>
<li>EstimatedRTT =<span  class="math">\(\ (1-\alpha)\times\)</span>EstimatedRTT + <span  class="math">\(\alpha\times\)</span>SampleRTT

<ul>
<li>exponential weighted moving average (EWMA)</li>
<li>influence of past sample decreases exponentially fast</li>
<li>typcial value: <span  class="math">\(\alpha\)</span> = 0.125</li>
<li>EstimatedRTT just like average RTT, SampleRTT just like current RTT, we can combine them to update EstimatedRTT
<figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/%E6%88%AA%E5%B1%8F2020-10-19%20%E4%B8%8B%E5%8D%885.03.25.png" alt=""></figure></li>
</ul></li>
</ul></li>
<li>timeout interval: EstimatedRTT plus &quot;safety margin&quot;

<ul>
<li>large variation in EstimatedRTT: want a larger safety margin</li>
<li>TimeoutInterval = EstimatedRTT + 4<span  class="math">\(\times\)</span>DevRTT

<ul>
<li>DevRTT (safety margin): EWMA of SampleRTT deviation from EstimatedRTT</li>
<li>DevRTT = (1 - <span  class="math">\(\beta\)</span>)<span  class="math">\(\times\)</span>DevRTT + <span  class="math">\(\beta\times\)</span>|SampleRTT - EstimatedRTT|

<ul>
<li><span  class="math">\(\beta\)</span> = 0.25</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>TCP fast retransmit

<ul>
<li>due to lots of experiments, 3 duplicated ACKs are the best option
<figure><img src="https://raw.githubusercontent.com/MarshalGao/image_hosting/master/hugo_images/%E6%88%AA%E5%B1%8F2020-10-19%20%E4%B8%8B%E5%8D%885.38.49.png" alt=""></figure></li>
</ul></li>
<li>advantages of delayed ACK

<ul>
<li>wait up to 500ms for next segment and send a ACK for several segments to save</li>
<li>save dedicated ACK (no pillow, just header)</li>
</ul></li>
</ul></li>
</ul>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://www.marshalgao.com/tags/icom6012/">icom6012</a></span>
        <span class="tag"><a href="https://www.marshalgao.com/tags/internet-infrastructure-technologies/">internet infrastructure technologies</a></span>
        <span class="tag"><a href="https://www.marshalgao.com/tags/transport-layer/">transport layer</a></span>
        
    </p>

      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://www.marshalgao.com/categories/hku/">HKU</a></span>
        
    </p>


      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        1488 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2020-10-15 13:50
        

         
          
        
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h"></span>
          <hr />
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="https://www.marshalgao.com/learning-timeline-of-advertising-product-manager/">
                <span class="button__icon">←</span>
                <span class="button__text">Learning Timeline of Advertising Product Manager</span>
              </a>
            </span>
          

          
            <span class="button next">
              <a href="https://www.marshalgao.com/leetcode1-two-sum/">
                <span class="button__text">LeetCode[1] Two Sum</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span><a href="https://www.hku.hk" target="_blank" rel="noopener">The University of Hong Kong</a></span>
            <span><a href="https://www.ecom-icom.hku.hk" target="_blank" rel="noopener">ECIC</a></span>
          </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2020-2021</span>
            
                
                <span>Marshal</a></span>
            
            
            
        </div>
    </div>
</footer>


            
        </div>

        




<script type="text/javascript" src="https://www.marshalgao.com/bundle.min.dc716e9092c9820b77f96da294d0120aeeb189b5bcea9752309ebea27fd53bbe6b13cffb2aca8ecf32525647ceb7001f76091de4199ac5a3caa432c070247f5b.js" integrity="sha512-3HFukJLJggt3&#43;W2ilNASCu6xibW86pdSMJ6&#43;on/VO75rE8/7KsqOzzJSVkfOtwAfdgkd5BmaxaPKpDLAcCR/Ww=="></script>



    </body>
</html>
